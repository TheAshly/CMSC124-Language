//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⣛⣿⣝⣻⣻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢯⣿⣿⣿⣿⣿⣿⣷⢽⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⣟⣛⠿⣿⣿⢎⡟⣫⣶⣷⣿⣷⣾⣵⣝⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣟⣭⣷⣿⠟⠻⠿⣷⣎⠊⣴⠿⣹⡶⣿⣽⣝⡿⢿⣿⣮⣻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣟⣯⣵⣿⣿⡿⠟⣁⣐⣦⣥⡘⣿⣿⡷⢟⡛⠻⣯⣿⣿⣿⢷⣝⣻⣳⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣝⣻⣟⡛⢯⢿⣞⡿⣽⣿⣿⢟⣡⣾⡿⢩⣐⢦⣿⣿⣿⣿⣿⣷⣦⡈⠹⣿⣿⣷⣟⣷⢷⣮⡽⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣻⣽⡾⣿⣿⣿⡟⣷⣾⣿⢣⣶⣿⢟⣿⣿⣿⢿⣿⣿⣝⣿⣿⣧⡌⣿⣿⡿⣯⣿⡹⢭⡓⢾⣹⣻⣟⣻⣻⣻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⣭⡿⣳⣯⡿⣿⣿⣟⣾⢯⣿⣣⣿⣿⡹⣟⣯⣿⣿⢺⣿⣷⢿⣞⢿⣿⣳⣌⢿⣿⡽⣷⣙⢦⡙⢣⣍⡻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣻⣾⡷⣽⣿⣟⣿⣿⣯⡾⣵⣟⣾⡿⣽⢷⢿⣿⣼⣿⣿⢼⡇⣿⣻⣹⣿⢯⣳⡝⣮⣷⢻⡌⢷⡊⢶⠁⢆⡙⠾⣽⡻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢟⣵⡿⣿⣾⠿⣗⣿⣿⢿⣿⢱⣿⣾⣟⣾⠟⣾⣻⢾⣿⣻⡿⣿⣇⡷⣇⢧⡹⣷⢣⠹⡌⢯⣗⢫⢒⡝⢦⣉⠢⢄⢣⠨⡙⢯⣝⣟⡿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠣⣿⣽⡾⣿⣽⢾⣿⣿⣟⣿⢇⣯⣿⡟⣾⠟⢸⡇⣿⡯⣿⣼⣿⢿⠇⡧⣿⢨⡒⠽⣏⠮⣙⢢⠹⡎⡜⣌⢣⠰⡁⢎⡄⢣⢧⣦⡙⠾⡽⣯⣷⣶⣶⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⣽⣯⢷⣷⣼⣯⢿⣿⣿⣿⣾⡟⡜⣾⡟⣼⢏⢪⢹⣐⢻⣿⢽⡆⣿⡿⡸⠔⢻⢠⡙⡔⡹⣆⠣⢎⠥⣛⠴⣈⢇⡒⢍⢢⡘⢆⢚⣿⣿⣷⣜⠽⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⡿⣳⣿⣟⣾⣻⣾⢾⣯⣿⢯⡿⣦⣿⡇⢹⡿⣸⢃⣢⣿⣞⡸⣾⢿⣯⣷⢸⡹⢡⢣⣽⢲⣥⢊⡱⢌⠳⣈⠖⡬⠰⣍⠲⣠⢋⠴⡈⢎⡌⣻⣿⣿⣿⣷⡹⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⢻⣿⣟⡾⣧⠟⡽⢋⣾⠟⣾⣿⢻⣿⢈⡻⢡⠓⣼⣾⣿⢲⣽⣇⠞⣿⣎⡗⣸⠡⢾⣯⢻⣧⣗⡰⢉⠖⡌⠜⡄⠳⣸⠱⠤⢌⢂⠓⠄⡚⣤⣻⣿⣿⣿⣷⣹⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣯⡾⣗⠞⢌⢹⡏⣾⣿⡟⣿⡟⢠⢋⡔⣚⣽⣯⢭⠮⣭⣭⢧⣹⢻⣜⠤⣋⡿⠣⣝⣿⣹⣚⡡⡜⢌⠣⢜⡰⢹⣇⢋⡰⢃⠎⡄⡱⢂⣳⡽⣿⣿⡿⣽⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⢳⣟⡾⡭⣸⡞⡟⣌⣿⢿⣁⣿⡝⡔⢊⠼⠍⠓⠋⠙⠓⢰⣜⣧⢳⡍⢿⣢⠱⣯⠱⠞⠐⠚⠛⠑⢎⢆⢓⡀⢳⣹⡇⢎⠄⣣⢃⠲⣽⡌⢼⣷⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⡟⣿⡷⣿⣿⢟⡗⡼⣟⣿⡄⣿⢹⠀⡍⠀⡔⢒⡀⠀⠄⣤⣟⣿⣞⣿⣤⡳⣒⣝⣿⣥⠒⠂⠀⣀⢠⠀⠢⣌⠓⣾⢡⡋⠴⠠⣃⠂⣿⣿⢸⣿⡏⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⡿⣿⣷⡽⣿⣾⢶⢧⣿⣟⡇⢿⡘⣦⢽⣷⡻⣄⠽⣚⢣⣿⣿⣿⣿⣿⣷⣷⣧⣽⣿⣿⣌⠳⣖⢰⣾⣔⡳⢈⣳⡟⢢⡙⠂⢥⡂⠵⣌⢿⣻⣿⣽⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣿⢎⡟⡰⢏⢿⡹⡕⣒⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣿⣿⣿⢸⢣⡿⢌⠣⡜⠀⢒⢸⡆⣽⣾⡽⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣳⢏⡴⡻⣞⠌⠻⣵⠊⣭⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣓⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣏⡊⡾⢁⢎⡱⠠⡁⢎⡜⣷⢸⣿⣿⣷⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⣷⣵⣿⢧⣿⣿⢈⠳⡈⣓⢸⡽⣿⣿⣿⣿⣿⣿⣿⣿⣿⣜⣻⢿⣿⣿⣿⣿⣿⣿⣿⣟⣧⢚⡞⡁⠇⢊⠄⠀⡥⠒⣌⠫⡟⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⢿⣻⣵⣿⣿⣿⣿⣫⡿⣟⢬⢇⡑⠆⡁⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢇⡳⠈⠄⠌⡰⠀⢁⠐⢣⠜⣰⠩⠷⣽⣻⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⡿⣥⢯⣿⣿⣿⣿⡟⣷⡟⣼⢣⡾⠤⢩⠐⠠⠌⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢏⠮⠁⢀⠰⣈⠴⠀⠄⣌⠠⠙⣄⠙⣆⠳⢯⣟⣯⢿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⡓⢮⣿⣿⣿⣟⣯⡾⢋⢼⣟⣾⢃⠧⢁⠌⡐⠠⢈⠻⣿⣿⣿⣿⣿⣿⣷⣶⠷⣶⣾⣿⣿⣿⣿⢿⡱⠊⠀⠌⢀⠰⢂⠳⢬⡐⠘⣷⣦⡈⠖⢦⡝⢌⢻⣿⣧⢹⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⡌⣿⣽⣳⠟⣜⣾⢯⢯⣿⢃⠣⠀⡆⠰⢀⠃⣴⣇⠈⠻⢿⣿⣿⣿⣿⣷⣿⣿⣿⣿⣿⠿⡋⠆⠁⠐⠈⡀⠢⣉⢎⡱⢚⣿⣤⡉⠿⣿⡆⡙⣿⣿⣐⢻⡿⢠⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⡟⣿⡿⣾⢯⣿⣿⣟⣾⢳⠓⡂⣬⠓⣤⣿⠀⢺⣿⠇⡀⢂⡷⣩⠻⢿⣿⣿⣿⣿⣿⠻⢁⢣⡙⡀⠂⠌⠸⡄⢠⠃⣷⣈⢇⠺⣿⣿⣷⣦⡝⣸⢿⣿⣿⣎⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⡟⣿⣷⡿⣿⣿⣽⣿⡏⢆⡡⢟⣣⣶⣿⣿⣴⠸⡏⡀⢤⠂⣿⣧⣏⠧⣍⡛⠟⠉⢠⡰⣉⠶⣩⠐⡄⠘⢆⡹⢦⡘⢹⣯⢮⢡⠛⣿⣿⣯⣵⣿⣯⢿⣿⣧⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣟⣿⣳⢳⣿⡇⢦⣾⣿⣿⣿⣿⣿⣿⠓⡰⠀⠸⣿⣯⡿⣿⣯⡲⣝⡲⣍⢦⡱⢭⢚⡥⡚⠅⠀⠘⢿⢢⣧⡋⣽⣿⣧⡩⠘⡝⢿⣿⣿⣟⣿⣿⣷⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⣻⢿⣿⡇⣿⣿⣿⣿⣿⣿⡿⢉⠖⡡⠀⣹⣻⡟⢿⣶⣍⡻⢦⣛⢬⣣⠝⡮⢜⡲⣙⠆⠀⢀⠈⠧⣿⣷⣌⡻⣥⣗⠩⣮⡒⡻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⣿⣞⣬⠻⣞⠿⡿⣫⣿⠟⡁⢎⡜⠡⠐⠦⣍⢻⣦⡙⢿⠳⣣⢾⡿⣱⢋⡔⣫⠴⢁⠎⠀⠀⠀⠀⠌⠻⣿⣿⣷⡾⢡⣿⣷⢡⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣿⢮⣭⡷⠟⢡⠒⢈⡒⠬⡑⠀⢩⢿⣦⢭⡛⠬⢓⣎⠊⡤⢡⠳⠌⣡⠒⡭⠂⠀⠀⠀⠀⠀⠀⠹⢿⣿⡇⣽⣿⣿⣇⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⢛⠩⢅⠎⣅⠋⢦⢉⡒⣉⠆⠸⣬⡙⠿⣗⢸⠙⠃⠀⠡⢰⣁⠮⡱⣉⠄⣀⠒⠀⠀⠁⠀⠈⠀⠀⠉⠚⠻⣿⣿⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⣿⣿⣿⣿⡿⠿⣛⢩⢡⠒⡌⠃⣨⠊⡜⡄⣋⢆⠣⢜⡠⢃⠄⢳⣻⣧⣾⡌⠅⠐⣄⠃⢀⠭⣶⣑⠌⣐⠢⠁⠀⠀⠀⠀⠠⠀⠀⠀⠀⠀⠀⠈⠙⠛⠿⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⣿⠟⡩⢄⠰⣐⠣⢌⡂⢣⠍⠤⡙⢠⠓⡬⡐⢆⡊⡱⢊⠴⡉⢆⣠⣿⡟⣱⢸⠜⠑⠀⡀⣎⠖⡭⣿⣦⣡⠁⠈⡜⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠙⠛⠻⣿⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⣿⠏⡬⡑⢆⠓⡌⢓⠬⡘⠥⢊⠕⡨⠃⡚⢤⠙⡢⢑⠅⠈⢦⢙⣶⣿⡟⡼⢡⣟⠢⣯⡌⢇⢺⣯⡔⡻⣿⣷⣍⢦⡀⠀⠁⠐⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣿⣿⣿⣿⣿⣿
//⣿⣿⡯⡘⡔⡩⢜⡀⢎⡱⠈⡕⣊⠡⢎⡱⠤⣉⢆⠣⢅⠋⠀⠈⣲⣾⣿⣿⣼⡯⣹⣟⣸⣿⣷⢭⢸⣿⣿⡴⡁⠉⢿⣄⠙⢦⡀⠀⠀⠀⠀⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠄⠀⠸⣿⣿⣿⣿⣿⣿
//⣿⣿⢡⠱⣌⠑⡆⢦⠐⠥⢘⡰⣁⠖⡀⠢⠱⡌⢢⠉⠆⠀⠁⣼⣿⡿⢋⠹⣿⡇⣿⣏⡿⠛⣿⣮⢹⣿⣿⣷⡱⣈⣼⣿⣿⣷⣿⣶⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣿⣿
//⣿⡏⢢⠱⡌⢣⠘⢢⠜⡱⠀⡖⢠⠚⡌⡱⢀⠈⠐⢃⢆⣀⣿⣿⣿⠁⠆⣞⣿⢿⣿⣽⣧⠱⣘⣿⡼⣿⣿⣿⣕⢣⠞⣿⣿⣿⡛⣿⠿⢦⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣿⣿⣿⣿
//⣿⠸⣠⠓⡌⢣⡀⠃⡎⠴⣀⠃⢢⡙⠴⡁⢇⠚⠤⣀⢠⣾⣿⣿⣿⣷⣬⢾⡿⣌⡟⣾⢻⣷⣿⣿⣧⢻⡹⣿⣿⣧⢛⡜⣿⣿⡽⠀⡏⠆⠀⠀⠀⠀⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠁⠰⠀⣿⣿⣿⣿⣿
//⡏⡶⡇⠭⣘⠠⢆⠀⠘⠰⠤⡁⠆⣍⢒⡑⡊⡍⢒⠤⢋⠲⣩⢻⣿⣿⢏⠞⡷⣘⢦⣿⢣⣿⣿⡿⢿⣇⠳⣍⢿⡏⠡⢞⡹⡈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⡄⢻⣿⣿⣿⣿⣿
//⢸⡷⣇⠓⡌⠆⢑⡊⠀⠄⡓⠀⡣⢒⠌⡔⠱⡈⠥⡊⡜⢠⠑⠂⠀⠈⢎⡹⣱⢃⢸⣿⣷⣿⣿⠀⢆⠹⣎⠵⠊⢷⣽⡆⠱⠁⠀⠀⠀⠀⠀⠁⠀⠀⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠳⡘⡨⣿⣿⣿⣿⣿
//⣟⣿⢯⡘⠴⣉⢂⠨⡑⡀⠘⢠⡑⣊⠜⣨⠑⡌⡅⠱⢌⠣⠜⡰⣀⡀⢎⡱⢎⠞⣸⣿⣿⡿⢟⠊⢆⢖⡉⢦⣀⢎⡻⠟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⢠⠣⣍⠔⢿⣿⣿⣿⣿
//⢿⣽⡾⣆⠱⠠⢃⢆⠀⠡⠀⢠⠓⣄⢋⡔⢡⢂⠘⢡⠎⣑⢊⡱⠰⣐⠢⣀⠉⠈⠸⣐⠶⡸⢥⡂⠈⠢⠙⠦⠉⠊⠀⠀⠀⠀⠀⡀⠄⠀⠀⠀⠀⠀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⢇⡚⢤⡋⡼⣿⣿⣿⣿
//-----------------------------WATCH VIOLET EVERGARDEN-----------------------------------

fun main(){
    // Calls Scanner
    val scanner = Scanner()
    val parser = Parser()
    val printer = Printer()
    val evaluator = Evaluator()
    while(true) {
        print(">")
        val input = readln()
        println(input)
        val tokens = scanner.scanLine(input)
        val node = parser.parseTokens(tokens)
//        printer.parserPrinter(node)
        evaluator.evaluateTree(node)
        println()
        System.gc()
    }
}